{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import\"./CreateModal.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateModal=_ref=>{let{isOpen,onClose}=_ref;const[url,setUrl]=useState(\"\");const[remarks,setRemarks]=useState(\"\");const[isExpirationEnabled,setExpirationEnabled]=useState(false);const[expirationDate,setExpirationDate]=useState(\"\");if(!isOpen)return null;const handleClear=()=>{setUrl(\"\");setRemarks(\"\");setExpirationEnabled(false);setExpirationDate(\"\");};const handleSubmit=async()=>{const token=localStorage.getItem('authToken');if(!token){console.error('User is not authenticated');return;}try{const response=await axios.post('https://shortly-backend-syh2.onrender.com/create-link',{url,remarks,isExpirationEnabled,expirationDate},{headers:{Authorization:\"Bearer \".concat(token)}});const{shortUrl}=response.data.link;console.log('Short URL:',\"https://shortly-backend-syh2.onrender.com/resolve/\".concat(shortUrl));onClose();}catch(error){console.error('Error creating link:',error);}};return/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"New Link\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:onClose,children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Destination Url \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",placeholder:\"https://web.whatsapp.com/\",value:url,onChange:e=>setUrl(e.target.value)}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Remarks \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Add remarks\",value:remarks,onChange:e=>setRemarks(e.target.value)}),/*#__PURE__*/_jsxs(\"div\",{className:\"expiration-container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Link Expiration\"}),/*#__PURE__*/_jsx(\"div\",{className:\"expiration-toggle\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"toggle-switch\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:isExpirationEnabled,onChange:e=>setExpirationEnabled(e.target.checked)}),/*#__PURE__*/_jsx(\"span\",{className:\"slider\"})]})})]}),isExpirationEnabled&&/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",value:expirationDate,onChange:e=>setExpirationDate(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"clear-button\",onClick:handleClear,children:\"Clear\"}),/*#__PURE__*/_jsx(\"button\",{className:\"create-button\",onClick:handleSubmit,children:\"Create new\"})]})]})});};export default CreateModal;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","CreateModal","_ref","isOpen","onClose","url","setUrl","remarks","setRemarks","isExpirationEnabled","setExpirationEnabled","expirationDate","setExpirationDate","handleClear","handleSubmit","token","localStorage","getItem","console","error","response","post","headers","Authorization","concat","shortUrl","data","link","log","className","children","onClick","type","placeholder","value","onChange","e","target","checked"],"sources":["D:/Cuvette/deploy testing/MERN/Client/shortener/src/Components/Dashboard/Modals/CreateModal.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./CreateModal.css\";\r\n\r\nconst CreateModal = ({ isOpen, onClose }) => {\r\n  const [url, setUrl] = useState(\"\");\r\n  const [remarks, setRemarks] = useState(\"\");\r\n  const [isExpirationEnabled, setExpirationEnabled] = useState(false);\r\n  const [expirationDate, setExpirationDate] = useState(\"\");\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const handleClear = () => {\r\n    setUrl(\"\");\r\n    setRemarks(\"\");\r\n    setExpirationEnabled(false);\r\n    setExpirationDate(\"\");\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    const token = localStorage.getItem('authToken');\r\n\r\n    if (!token) {\r\n        console.error('User is not authenticated');\r\n        return;\r\n    }\r\n\r\n    try {\r\n        const response = await axios.post(\r\n            'https://shortly-backend-syh2.onrender.com/create-link',\r\n            {\r\n                url,\r\n                remarks,\r\n                isExpirationEnabled,\r\n                expirationDate,\r\n            },\r\n            { headers: { Authorization: `Bearer ${token}` } }\r\n        );\r\n\r\n        const { shortUrl } = response.data.link;\r\n        console.log('Short URL:', `https://shortly-backend-syh2.onrender.com/resolve/${shortUrl}`);\r\n        \r\n        onClose();\r\n    } catch (error) {\r\n        console.error('Error creating link:', error);\r\n    }\r\n};\r\n\r\n\r\n  return (\r\n    <div className=\"modal-overlay\">\r\n      <div className=\"modal-container\">\r\n        <div className=\"modal-header\">\r\n          <h3>New Link</h3>\r\n          <button className=\"close-button\" onClick={onClose}>\r\n            âœ•\r\n          </button>\r\n        </div>\r\n        <div className=\"modal-body\">\r\n          <label>\r\n            Destination Url <span className=\"required\">*</span>\r\n          </label>\r\n          <input\r\n            type=\"url\"\r\n            placeholder=\"https://web.whatsapp.com/\"\r\n            value={url}\r\n            onChange={(e) => setUrl(e.target.value)}\r\n          />\r\n\r\n          <label>\r\n            Remarks <span className=\"required\">*</span>\r\n          </label>\r\n          <textarea\r\n            placeholder=\"Add remarks\"\r\n            value={remarks}\r\n            onChange={(e) => setRemarks(e.target.value)}\r\n          ></textarea>\r\n\r\n          <div className=\"expiration-container\">\r\n            <label>Link Expiration</label>\r\n            <div className=\"expiration-toggle\">\r\n              <label className=\"toggle-switch\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={isExpirationEnabled}\r\n                  onChange={(e) => setExpirationEnabled(e.target.checked)}\r\n                />\r\n                <span className=\"slider\"></span>\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          {isExpirationEnabled && (\r\n            <input\r\n              type=\"datetime-local\"\r\n              value={expirationDate}\r\n              onChange={(e) => setExpirationDate(e.target.value)}\r\n            />\r\n          )}\r\n        </div>\r\n        <div className=\"modal-footer\">\r\n          <button className=\"clear-button\" onClick={handleClear}>\r\n            Clear\r\n          </button>\r\n          <button className=\"create-button\" onClick={handleSubmit}>\r\n            Create new\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateModal;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}